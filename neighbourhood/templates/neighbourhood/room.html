{% extends "neighbourhood/usertemplate.html" %}
{% load static %}
{% block title %}Slimme-energiewoningen| {{ room.name }}{% endblock %}


{% block topheader %}Dit is mijn  {{ room.name }}{% endblock %}

{% block topheader_content %}Ik hoor bij <a>{{ room.house.name }}</a> {% endblock %}

{% block left_col %}
<div class="col-md-4">
  <h2>Energieverbruik</h2>
  <canvas id="energy_house" width="400" height="400"></canvas>

</div>
    <script>
var ctx = document.getElementById("myChart");
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
</script>
  {% endblock %}

{% block middle_col %}

    <div class="col-md-4">
        <h2>Optimalisatie</h2>
        <p>Opsomming van alternatieven voor efficiënter gebruik</p>
        <p><a class="btn btn-default" href="#" role="button">Meer details &raquo;</a></p>
    </div>

{% endblock %}


{% block right_col %}
    <div class="col-md-4">
        <h2>Besparing</h2>
        <p>Hier komt een counter die vertelt hoeveel men bespaart door een geoptimaliseerd energiegebruik  </p>
        <p><a class="btn btn-default" href="#" role="button">Meer details &raquo;</a></p>
    </div>
{% endblock %}










<!-- DEVICeS -->
{% block showalldevices %}
        <div id="blockcontainer" class="container"> <!-- OM problemen met opvolgen van verschillende soorten te vermijden-->
        <div class="container"> <!-- omdat er anders problemen waren doordat deze een margin bottom had -->
<h4>Slimme Apparaten</h4>
        </div>
        <div class="row-offcanvas"><!-- block met daarin alle apparaten in een kamer -->
{% for device in room.smart_devices_set.all %}
    <div class="col-lg-3"> <!-- we stoppen elk apparaat in een apparte kolom-->
    <div id="container1"> <!-- hokje voor elk apparaat met foto en knoppen-->
    <h5 id="vspace">{{ device.name }} - {{ device.status }}%</h5>
    {% if device.name == "Wasmachine" %}
        <img id="afbeelding"  src='{% static 'images/devices/wasmachine.jpg' %}' alt="Wasmachine">
    {% endif %}
    {% if device.name == "Afwasmachine" %}
    <img id="afbeelding"  src='{% static 'images/devices/afwasmachine.jpg' %}' alt="Wasmachine">
    {% endif %}
 {% if device.name == "Laadpaal" %}
        <img id="afbeelding"  src='{% static 'images/devices/laadpaal.jpg' %}' alt="Laadpaal">
    {% endif %}
 <button id="knop" type="button"  class="btn btn-sm btn-success" onclick=location.href="{% url "status" device.id 100 0 %}">Zet aan</button>
   <button id="knop" type="button" class="btn btn-sm btn-danger" onclick=location.href="{% url 'status' device.id 000 0 %}">Zet uit</button>
    </div>
    </div>
{% endfor %}
        </div>
        </div>









        <div id="blockcontainer" class="container"> <!-- OM problemen met opvolgen van verschillende soorten te vermijden-->
        <div class="container"> <!-- omdat er anders problemen waren doordat deze een margin bottom had -->
<h4>Koelkasten</h4>
        </div>
        <div class="row-offcanvas"><!-- block met daarin alle apparaten in een kamer -->
{% for device in room.fridges_set.all %}
    <div class="col-lg-3"> <!-- we stoppen elk apparaat in een apparte kolom-->
    <div id="container1"> <!-- hokje voor elk apparaat met foto en knoppen-->
    <h5 id="vspace">{{ device.name }} - {{ device.temperature }}°C</h5>
    {% if device.name == "Koelkast" %}
        <img id="afbeelding"  src='{% static 'images/devices/koelkast.jpg' %}' alt="Wasmachine">
    {% endif %}
 {% if device.name == "Diepvriezer" %}
        <img id="afbeelding"  src='{% static 'images/devices/diepvriezer.jpg' %}' alt="Laadpaal">
    {% endif %}
  <button id="knop" type="button"  class="btn btn-sm btn-success" onclick=location.href="{% url "status" device.id 100 0 %}">Zet aan</button>
   <button id="knop" type="button" class="btn btn-sm btn-danger" onclick=location.href="{% url 'status' device.id 000 0 %}">Zet uit</button>
    </div>
    </div>
{% endfor %}
        </div>
        </div>









        <div id="blockcontainer"class="container"> <!-- OM problemen met opvolgen van verschillende soorten te vermijden-->
        <div class="container"> <!-- omdat er anders problemen waren doordat deze een margin bottom had -->
<h4>Energieopslag</h4>
        </div>
        <div class="row-offcanvas"><!-- block met daarin alle apparaten in een kamer -->
{% for device in room.battery_set.all %}
    <div class="col-lg-3"> <!-- we stoppen elk apparaat in een apparte kolom-->
    <div id="container1"> <!-- hokje voor elk apparaat met foto en knoppen-->
    <h5 id="vspace">{{ device.name }} - {{ device.charge_status }}% </h5>
    {% if device.name == "Battery" %}
        <img id="afbeelding"  src='{% static 'images/devices/batterij.jpg' %}' alt="Wasmachine">
    {% endif %}
 {% if device.name == "Laadpaal" %}
        <img id="afbeelding"  src='{% static 'images/devices/laadpaal.jpg' %}' alt="Laadpaal">
    {% endif %}
  <button id="knop" type="button"  class="btn btn-sm btn-success" onclick=location.href="{% url "status" device.id 100 0 %}">Laad op</button>
   <button id="knop" type="button" class="btn btn-sm btn-danger" onclick=location.href="{% url 'status' device.id 000 0 %}">Stop opladen</button>
       <button id="knopb" type="button" class="btn btn-sm btn-warning" href={% url 'givebattery' device.id 100  %}>Geef energie</button>
       <button id="knopb" type="button" class="btn btn-sm btn-primary" href={% url 'givebattery' device.id 100  %}>Stop energie</button>

    </div>
    </div>
{% endfor %}
        </div>
        </div>





        <div id="blockcontainer" class="container"> <!-- OM problemen met opvolgen van verschillende soorten te vermijden-->
        <div class="container"> <!-- omdat er anders problemen waren doordat deze een margin bottom had -->
<h4>Klassieke apparaten</h4>
        </div>
        <div class="row-offcanvas"><!-- block met daarin alle apparaten in een kamer -->
{% for device in room.stupid_devices_set.all %}
    <div class="col-lg-3"> <!-- we stoppen elk apparaat in een apparte kolom-->
    <div id="container1"> <!-- hokje voor elk apparaat met foto en knoppen-->
    <h5 id="vspace">{{ device.name }}</h5>
    {% if device.name == "Oven" %}
        <img id="afbeelding"  src='{% static 'images/devices/oven.jpg' %}' alt="oven">
        {% endif %}
 <button id="knop" type="button"  class="btn btn-sm btn-success" onclick=location.href="{% url "status" device.id 100 0 %}">Zet aan</button>
   <button id="knop" type="button" class="btn btn-sm btn-danger" onclick=location.href="{% url 'status' device.id 000 0 %}">Zet uit</button>
    </div>
    </div>
{% endfor %}
        </div>
        </div>



{% endblock %}

